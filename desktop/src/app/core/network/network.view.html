<div class="blackTheme networkView">
  <div class="networkView_heading">
    <div class="container">
      <div class="title-primary">
        <p>The Merit Network</p>
      </div>
      <div class="description-primary">
        <p>Explore the Merit Network</p>
      </div>
      <div class="addressesCounter">
        <div>
          <p>{{wallets?.totalDisplay | kformat}}</p>
          <span>TOTAL USERS</span>
        </div>
        <div>
          <p>+{{wallets?.monthDisplay | kformat}}</p>
          <span>JOINED THIS MONTH</span>
        </div>
        <div>
          <p>+{{wallets?.weekDisplay | kformat}}</p>
          <span>JOINED THIS WEEK</span>
        </div>
      </div>
      <form [formGroup]="formData" (ngSubmit)="validateAddress(formData.controls.address.value)" class="networkNavigator">
        <div class="networkNavigator_group networkNavigator_group-column">
          <div class="selectMapSize" (click)="showList = !showList">
            <span class="ui-label">Addresses to display</span>
            {{selectedMapSize}}
            <div class="selectMapSize_list" *ngIf="showList">
              <div class="selectMapSize_item" *ngFor="let item of selectionList" (click)="loadGraph('', item)">{{item}}</div>
            </div>
          </div>
        </div>
        <div class="networkNavigator_group">
          <input type="text" class="ui-input ui-input--text" formControlName="address" placeholder="Find wallet (enter address or alias)">
          <button class="ui-button">FIND</button>
        </div>
      </form>
      <div class="networkBreadCrumbs">
        <ul>
          <li *ngFor="let item of breadCrumbs" (click)="backToParent(item)">
            <i>{{item.name}}</i>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="fullScreenContainer" [class.inMode]="isFullScreen">
    <form [formGroup]="formData" (ngSubmit)="validateAddress(formData.controls.address.value)" class="networkNavigator">
      <div class="networkBreadCrumbs" *ngIf="isFullScreen">
        <ul>
          <li *ngFor="let item of breadCrumbs" (click)="backToParent(item)">
            <i>{{item.name}}</i>
          </li>
        </ul>
      </div>
      <div *ngIf="isFullScreen" class="networkNavigator_group networkNavigator_group-column">
        <div class="selectMapSize" (click)="showList = !showList">
          <span class="ui-label">Addresses to display</span>
          {{selectedMapSize}}
          <div class="selectMapSize_list" *ngIf="showList">
            <div class="selectMapSize_item" *ngFor="let item of selectionList" (click)="loadGraph('', item)">{{item}}</div>
          </div>
        </div>
      </div>
      <div class="enterFullScreen" (click)="enterFullScreen()">
        <merit-icon name="full"></merit-icon> {{isFullScreen ? "Exit": "Enter"}} FullScreen mode
      </div>
    </form>
    <div class="container loading" *ngIf="(nodes$ | async).loading">
      <p>
        <strong>Loading nodes...</strong>
      </p>
      <loading-spinner></loading-spinner>
    </div>
    <div class="container loading" *ngIf="!(nodes$ | async).loading && !isGraphBuilded">
      <p>
        <strong>Building graph...</strong>
      </p>
      <loading-spinner></loading-spinner>
    </div>
    <div #canvas class="canvas graphWrap" [ngClass]="{'loaded': isGraphBuilded, 'fullScreen': isFullScreen}"></div>
  </div>

  <div class="scrollNavigator" [class.loaded]="isGraphBuilded">
    <div class="buttons">
      <button class="zoom out ui-button ui-button--white">-</button>
      <button class="zoom in ui-button ui-button--white">+</button>
    </div>
    <p>
      For map zoom, you can use mouse wheel <br> or "+" and "-" buttons.
    </p>
  </div>
  <div *ngIf="showWarning" class="nodesDialog_wrapper">
    <div class="nodesDialog">
      <p>
        <strong>{{gNodes.length}}</strong> connections found!
      </p>
      <p>
        Would you like to see this network?
      </p>
      <p>
        <small><strong>*</strong> If you are using an older machine or you are using your computer for other memory-intensive
          processes, loading this map could cause your machine to feeze!</small>
      </p>
      <p>
        <small><strong>**</strong> Amount of the connections are not equal to amount of addresses.</small>
      </p>
      <div class="navigation">
        <button (click)="showWarning = 0" class="ui-button ui-button--sm ui-button--red">No</button>
        <button (click)="loadNodes()" class="ui-button ui-button--sm ui-button--green">YES</button>
      </div>
    </div>
  </div>
</div>